
# Правила маппинга

В этом документе собраны все правила, которые **обязаны соблюдаться при разработке карт**. 
Правила могут быть вызваны техническими ограничениями, решениями по геймдизайну, или просто неочевидными подводными камнями, которые стоит избегать. 

Правила должны быть описаны достаточно емко и подробно, чтобы работать в том числе как **руководство**, и **чеклист**. Маппер, имеющий этот документ, должен иметь возможность понять и исправить все допущенные ошибки.

Внесение изменений в эти правила, которые конфликтуют с созданными на данный момент картами, **должны быть продублированы с созданием Isuue в гитхабе**, на исправления этих конфликтах в картах, которые эти правила не соблюдают.

На текущий момент правила никак не отсортированы, и их можно добавлять в любом месте и порядке. 
*TODO: добавить сортировку, когда будет достаточное количество правил.*
*TODO: чеклисты маппинга должны сопровождаться картинками с пирмерами.*
*TODO: возможно чеклисты в отдельный документ? Возможно таблицей?*

## Игровые карты - это планетарные карты.
Мы отказались от гридов, поэтому карта, на которой находится игровое поселение, должна быть планетарной

Генерация за пределами маппинга позволяет обыграть это различными способами, позоляя создавать так и бесконечный окена, так и бесконечный камень

Вы можете найти некоторые пресеты карт по пути `Maps/_CP14/Empties`, если вы создали для своей карты новый биом, не забудьте добавить его по тому же пути

## Цикл дня и ночи
На всех картах должен быть включен цикл дня и ночи. Механика солнечного света, которая идет вкупе с циклом, геймплейно необходима для расы Сильв и механик огорода.
Данное ограничение скорее всего будет удалено в будущем, для поддержки подземных карт.

Для этого, на сущность карты (не грида) необходимо добавить компонент `CP14DayCycleComponent`.

## Возможности для анатагонистов
Возле всех точек спавна игроков (лейтджоин или спавнержобы) должны быть укрытия для вампиров, до которых можно добежать за секунд 5-10. Либо спавнеры должны быть под укрытиями. Укрытием считается любое место, где нет солнца (крыши, или спуск в пещеры).

## Распределение ключей от личных помещений
Добавляя на карту личные помещения (личные дома, алхимические лавки, кузнечные лавки), необходимо в прототип станции добавить необходимые компоненты. 
TODO инструкция

## Общее
- маркеры прорывов демиплана
- маркер спавна наблюдателей
- команда variantize по окончанию работ

## Лавка алхимика
Обязательно:
- Большой чан
- Шкаф алхимика
- Комод алхимика
- Очиститель растворов
- 2 настенные полки для бутылок
- Гобелен
- источник воды
Опционально:
- подвал с пустыми бочками

## Лавка кузнеца
Обязательно:
- Шкаф кузнеца
- Комод кузнеца
- Наковальня
- Плавильная печь
- Верстак
- Несколько готовых ручек и наконечников оружий разных типов и материалов
- Гобелен

## Лавка Гильдмастера
Обязательно:
- Шкаф гильдмастера
- Комод гильдмастера 
- сундук с ключами демипланов
- Ящик/сундук с готовым оружием для авантюристов
- Кристалл демипланов рядом с домом или в подвале
Опционально:
- свитки проникновения в демиплан и телепорта к монолиту

## Торговцы
Обязательно:
- Лавки:
- сейф и витрины
- товары примерно одинаковой важности и стоимости в каждой лавке
- гобелен
- Шкаф торговца
- Комод торговца
- Торговые посты:
- 4 постройки с маркерами торгвых шкафов(всегда смотрят на юг) и информационными досками
- 1-2 рамки портала

## Таверна
Обязательно:
- Доска объявлений
- Шкаф и комод трактирщика
- Подвал заполненный бочками с напитками
- задний двор с грядками и водоёмом
- Гобелен

## Здание стражи
- Казармы с кроватями и шкафом стражи на каждую кровать(роль)
- Место для построения отмеченное декалями
- Хранилище оружия
- Отдельное помещение для капитана стражи
- Место для тренировок на улице
- Гобелен
