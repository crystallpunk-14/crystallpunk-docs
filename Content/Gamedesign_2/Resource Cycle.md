# Основной ресурсный цикл

Все основные геймплейные активности вписываются в следующую схему ресурсного цикла:
<img width="1450" height="1551" alt="image" src="https://github.com/user-attachments/assets/1004d2b1-1ce1-4ee7-b319-9d9fb08e1941" />

Схема состоит из желтых блоков ресурсов поселения, зеленых блоков процессов и стрелок связей между ними. Стрелки окрашены в красные и зеленые цвета, отражая прирост или убывание ресурса при активном процессе.

Рассмотрим схему подробнее.

## Ресурсы

Ресурс - это абстрактная переменная, которая может быть потрачена или восстановлена в течении раунда. 

В данном документ описываются только глобальные ресурсы поселения, а не локальные ресурсы отдельных игроков, поэтому тут нет денег или выносливости. Все эти ресурсы принадлежат "Поселению" целиком - и если мы говорим о ресурсе "Материалы" например, мы имеем ввиду общее количество ресурсов в поселении у всех его жителей.

На текущий момент существует 5 основных видов ресурсов:

### Материалы
<img width="465" height="200" alt="image" src="https://github.com/user-attachments/assets/3cb8540c-2a8e-47e0-a51a-ea4c77e0b112" />

В эту категорию ресурсов попадают любые ценности, который не имеет прямой практической пользы, но требуется для других процессов и механик.
Например:
- Камень, земля, мрамор. Используется для строительства.
- Мухоморы, шалфей, травы. Используются для варки зелий.
- Медная, железная руда. Используется для плавки и ковки.
- Деньги. Используется для покупок.

Материалы добываются процессом "Добыча" (например в демипланах), и тратится для крафтов, лечения игроков, восстановления поселения или исследований.

### Экипировка
<img width="375" height="190" alt="image" src="https://github.com/user-attachments/assets/125fd5f8-eec2-4ccb-ac19-1c34fa0de157" />

В эту категорию ресурсов попадают любые практически полезные предметы, расходники и экипировка, которая есть у жителей поселения.
Например:
- Оружие дальнего и ближнего боя, аммуниция.
- Зелья лечения, ускорения, яды.
- Инструменты ахимика.
- Броня.
- Еда.

Экипировка - крайне востребованный ресурс, который тратится на выполнение почти всех активностей.

### Здоровье поселения
<img width="387" height="222" alt="image" src="https://github.com/user-attachments/assets/9a7800da-98ec-4161-8cc1-2edd188e6a09" />

Это более абстрактный ресурс, который олицетворяет насколько поселение и его жители "Здоровы".
Насколько много ущерба нанесено постройкам, и насколько велика их функциональность.
Как много погибших или раненых игроков.

На текущий момент есть 3 основных причины дестабилизации поселения:
- Процесс "Добычи" разрушает поселение различными методами:
  - Травмирует шахтеров
  - Провоцирует фауну нападать на поселение
- Процесс "Исследований" ради добычи знаний вызывает хаос:
  - Неудачные эксперименты взрывают дома
  - Некоторые ритуалы требуют крови и здоровья жителей
- Процессы "Защиты" и "Атаки" разрушают поселение как следствие вооруженных конфликтов:
  - Скелеты поджигают дома
  - Стража гибнет в охоте на логово вампиров

Восстанавливается же здоровье поселения процессом "Восстановления", о нем подробнее позже.

### Прогресс
<img width="537" height="340" alt="image" src="https://github.com/user-attachments/assets/ae10b426-5af7-4a59-a1a1-c44ee288dfba" />

Абстрактный ресурс, отражающий уровень развития поселения. Отражает общий уровень раблокированных возможностей у жителей поселения.
Эти возможности включают в себя:
- Знания о новых рецептов крафта.
- Новые заклинания.
- т.д.

Данный ресурс на текущий момент не реализован в игре.

### Опасности
<img width="495" height="380" alt="image" src="https://github.com/user-attachments/assets/91f056f5-dd1a-4a99-9949-2592e7ec08f5" />

Абстрактный анти-ресурс, отражающий количесво и силу угроз, несущих опасности поселению. Это включает в себя:
- Активных антагонистов.
- ИИ-монстров.
- Болезни.

Этот ресурс постепенно растет со временем, благодаря различным игровым режимам и случайным событиям. Например:
- Случайные события прорыва демипланов.
- Клан вампиров, становящийся сильнее с каждой ночью.

Игроки должны выполнять процесс "Защиты" чтобы снижать уровень "Опасности", например:
- Расследование преступлений дознавателями стражи.
- Рейды на логово вампиров отрядами стражи и авантюристов.

Но, игроки которые сами являются антагонистами и представляют собой "Опасность" сами могут совершать действие "Атаки", нанося урон поселению:
- Скелеты сжигают дома
- Вампиры крадут и выпивают жителей по ночам.
